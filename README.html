<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />
<title>NoGraphs, the graph library without graphs</title>
<style type="text/css">

/*
:Author: David Goodger (goodger@python.org)
:Id: $Id: html4css1.css 7952 2016-07-26 18:15:59Z milde $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

.subscript {
  vertical-align: sub;
  font-size: smaller }

.superscript {
  vertical-align: super;
  font-size: smaller }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

object[type="image/svg+xml"], object[type="application/x-shockwave-flash"] {
  overflow: hidden;
}

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title, .code .error {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin: 0 0 0.5em 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left, .figure.align-left, object.align-left, table.align-left {
  clear: left ;
  float: left ;
  margin-right: 1em }

img.align-right, .figure.align-right, object.align-right, table.align-right {
  clear: right ;
  float: right ;
  margin-left: 1em }

img.align-center, .figure.align-center, object.align-center {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

table.align-center {
  margin-left: auto;
  margin-right: auto;
}

.align-left {
  text-align: left }

.align-center {
  clear: both ;
  text-align: center }

.align-right {
  text-align: right }

/* reset inner alignment in figures */
div.align-right {
  text-align: inherit }

/* div.align-center * { */
/*   text-align: left } */

.align-top    {
  vertical-align: top }

.align-middle {
  vertical-align: middle }

.align-bottom {
  vertical-align: bottom }

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font: inherit }

pre.literal-block, pre.doctest-block, pre.math, pre.code {
  margin-left: 2em ;
  margin-right: 2em }

pre.code .ln { color: grey; } /* line numbers */
pre.code, code { background-color: #eeeeee }
pre.code .comment, code .comment { color: #5C6576 }
pre.code .keyword, code .keyword { color: #3B0D06; font-weight: bold }
pre.code .literal.string, code .literal.string { color: #0C5404 }
pre.code .name.builtin, code .name.builtin { color: #352B84 }
pre.code .deleted, code .deleted { background-color: #DEB0A1}
pre.code .inserted, code .inserted { background-color: #A3D289}

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

/* "booktabs" style (no vertical lines) */
table.docutils.booktabs {
  border: 0px;
  border-top: 2px solid;
  border-bottom: 2px solid;
  border-collapse: collapse;
}
table.docutils.booktabs * {
  border: 0px;
}
table.docutils.booktabs th {
  border-bottom: thin solid;
  text-align: left;
}

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body>
<div class="document" id="nographs-the-graph-library-without-graphs">
<h1 class="title"><strong>NoGraphs, the graph library without graphs</strong></h1>
<h2 class="subtitle" id="introduction">- Introduction -</h2>

<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p><em>NoGraphs</em> is a library of algorithms designed for graphs that are <a class="reference internal" href="#computation-and-adaptation-of-graphs">computed and/or adapted in
application code on the fly</a>.</p>
<p>Its purpose is to process graphs that can not or should not be fully computed, stored or adapted, e.g. infinite
graphs, large graphs and graphs with expensive computations.</p>
<p>It provides the <a class="reference internal" href="#traversal-algorithms">algorithms</a> DFS, BFS, topological search, Dijkstra, A* and MST.
It computes depths, edge counts and several forms of paths. It <a class="reference internal" href="#methods-of-the-traversal-classes-a-brief-description">reports results online during
the computation and allows for pausing and resuming of calculations</a>. Its API supports <a class="reference internal" href="#search-aware-graphs">search-aware graphs</a>,
eases operations like <a class="reference internal" href="#graph-pruning-abstraction-and-multiplication">graph pruning, graph product and
graph abstraction</a>, and it even allows to <a class="reference internal" href="#api-documentation">replace some of the internal data structures and to interfere with
them during the search</a>. The current version of NoGraphs is limited to locally finite
graphs (a vertex has only finitely many outgoing edges).</p>
<p class="last">The library is pure Python (&gt;=3.9) and introduces no further dependencies. A fair amount of efforts
for a good runtime and memory performance has been invested. You are invited to compare flexibility and
performance with those of other libraries :-)</p>
</div>
<div class="section" id="installation">
<h1>Installation</h1>
<p>You can get and install NoGraphs as follows by using PIP:</p>
<pre class="code shell literal-block">
pip install NoGraphs
</pre>
<p>It is recommended to import the library in Python application code as follows:</p>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="keyword namespace">import</span> <span class="name namespace">nographs</span> <span class="keyword">as</span> <span class="name namespace">nog</span>
</pre>
</div>
<div class="section" id="computation-and-adaptation-of-graphs">
<h1>Computation and adaptation of graphs</h1>
<p>NoGraphs provides algorithms that can be applied to graphs. Here, the word <em>graph</em>
denotes the thing with vertices/nodes and edges/links, not with diagrams.</p>
<p>The library does not offer graph containers and it stores no graphs. This is where the name <em>NoGraphs</em> library
comes from.</p>
<p>Instead, <strong>your application computes the graph on the fly</strong>, or it stores a graph and
<strong>adapts it on the fly</strong>.
This way, NoGraphs can deal with graphs that can not or should not be fully computed or adapted, e.g. infinite
graphs, large graphs and graphs with expensive computations.</p>
<p>Your application makes the graph <strong>accessible for NoGraphs by providing a callback function</strong> to the library.
<a class="reference internal" href="#callback-functions-for-graph-adaptation">The function</a> gets a vertex and returns data about connected vertices or outgoing edges in the graph.</p>
<div class="section" id="examples">
<h2>Examples</h2>
<p>We start with some examples. They are fairly trivial, but give a first impression of how the interaction of
application code and library works.</p>
<p>The <a class="reference internal" href="#callback-functions-for-graph-adaptation">notions, concepts</a>, <a class="reference internal" href="#traversal-algorithms">algorithms and API</a> used here will be explained later on.</p>
<p>Note: If you are new to graph algorithms and would like to start by playing around with some graph examples and not
so much with own code, please see section <a class="reference internal" href="#gadgets">gadgets</a>. There, you find tools that ease the handing of toy examples.</p>
<div class="section" id="depths-first-search-in-the-integers">
<h3>Depths first search in the integers</h3>
<p>Here, our vertices are the integers. The successor of a vertex i is i+2. This is an infinite graph.</p>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="keyword">def</span> <span class="name function">next_vertices</span><span class="punctuation">(</span><span class="name">i</span><span class="punctuation">,</span> <span class="name">_</span><span class="punctuation">):</span>
<span class="operator">...</span>     <span class="keyword">yield</span> <span class="name">i</span><span class="operator">+</span><span class="literal number integer">2</span>
</pre>
<p>We check that 1000000 can be reached from 0. This means, that the number is even.
There might be easier ways to find that out... :-)</p>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">traversal</span> <span class="operator">=</span> <span class="name">nog</span><span class="operator">.</span><span class="name">TraversalDepthFirst</span><span class="punctuation">(</span><span class="name">next_vertices</span><span class="punctuation">)</span><span class="operator">.</span><span class="name">start_from</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="keyword">for</span> <span class="name">i</span> <span class="operator word">in</span> <span class="name">traversal</span><span class="punctuation">:</span>
<span class="operator">...</span>     <span class="keyword">if</span> <span class="name">i</span> <span class="operator">&gt;=</span> <span class="literal number integer">1000000</span><span class="punctuation">:</span>
<span class="operator">...</span>         <span class="keyword">break</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name builtin">print</span><span class="punctuation">(</span><span class="literal string double">&quot;Stopped at number&quot;</span><span class="punctuation">,</span> <span class="name">i</span><span class="punctuation">,</span> <span class="literal string double">&quot;in a search depth of&quot;</span><span class="punctuation">,</span> <span class="name">traversal</span><span class="operator">.</span><span class="name">depth</span><span class="punctuation">,</span> <span class="literal string double">&quot;steps&quot;</span><span class="punctuation">)</span>
<span class="name">Stopped</span> <span class="name">at</span> <span class="name">number</span> <span class="literal number integer">1000000</span> <span class="operator word">in</span> <span class="name">a</span> <span class="name">search</span> <span class="name">depth</span> <span class="name">of</span> <span class="literal number integer">500000</span> <span class="name">steps</span>
</pre>
<p>Then, we continue to follow the edges and check that we step over 1000005.</p>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="keyword">for</span> <span class="name">i</span> <span class="operator word">in</span> <span class="name">traversal</span><span class="punctuation">:</span>
<span class="operator">...</span>     <span class="keyword">if</span> <span class="name">i</span> <span class="operator">&gt;=</span> <span class="literal number integer">1000005</span><span class="punctuation">:</span>
<span class="operator">...</span>         <span class="keyword">break</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name builtin">print</span><span class="punctuation">(</span><span class="literal string double">&quot;Stopped at number&quot;</span><span class="punctuation">,</span> <span class="name">i</span><span class="punctuation">,</span> <span class="literal string double">&quot;in a search depth of&quot;</span><span class="punctuation">,</span> <span class="name">traversal</span><span class="operator">.</span><span class="name">depth</span><span class="punctuation">,</span> <span class="literal string double">&quot;steps&quot;</span><span class="punctuation">)</span>
<span class="name">Stopped</span> <span class="name">at</span> <span class="name">number</span> <span class="literal number integer">1000006</span> <span class="operator word">in</span> <span class="name">a</span> <span class="name">search</span> <span class="name">depth</span> <span class="name">of</span> <span class="literal number integer">500003</span> <span class="name">steps</span>
</pre>
</div>
<div class="section" id="breadth-first-search-in-a-maze">
<h3>Breadth First Search in a maze</h3>
<p>This time, our vertices are tuples of x and y coordinates. A coordinate is an integer between 0 and 4. From each
position, the horizontal and vertical neighbors within these limits are the successors, and some vertices are
not allowed to be visited.</p>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="keyword">def</span> <span class="name function">neighbors_in_grid</span><span class="punctuation">(</span><span class="name">position</span><span class="punctuation">):</span>
<span class="operator">...</span>     <span class="name">pos_x</span><span class="punctuation">,</span> <span class="name">pos_y</span> <span class="operator">=</span> <span class="name">position</span>
<span class="operator">...</span>     <span class="keyword">for</span> <span class="name">move_x</span><span class="punctuation">,</span> <span class="name">move_y</span> <span class="operator word">in</span> <span class="punctuation">((</span><span class="operator">-</span><span class="literal number integer">1</span><span class="punctuation">,</span> <span class="literal number integer">0</span><span class="punctuation">),</span> <span class="punctuation">(</span><span class="literal number integer">1</span><span class="punctuation">,</span> <span class="literal number integer">0</span><span class="punctuation">),</span> <span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span> <span class="operator">-</span><span class="literal number integer">1</span><span class="punctuation">),</span> <span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span> <span class="literal number integer">1</span><span class="punctuation">)):</span>
<span class="operator">...</span>         <span class="name">new_x</span><span class="punctuation">,</span> <span class="name">new_y</span> <span class="operator">=</span> <span class="name">pos_x</span> <span class="operator">+</span> <span class="name">move_x</span><span class="punctuation">,</span> <span class="name">pos_y</span> <span class="operator">+</span> <span class="name">move_y</span>
<span class="operator">...</span>         <span class="keyword">if</span> <span class="name">new_x</span> <span class="operator word">in</span> <span class="name builtin">range</span><span class="punctuation">(</span><span class="literal number integer">5</span><span class="punctuation">)</span> <span class="operator word">and</span> <span class="name">new_y</span> <span class="operator word">in</span> <span class="name builtin">range</span><span class="punctuation">(</span><span class="literal number integer">5</span><span class="punctuation">):</span>
<span class="operator">...</span>             <span class="keyword">yield</span> <span class="name">new_x</span><span class="punctuation">,</span> <span class="name">new_y</span>
<span class="operator">...</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="keyword">def</span> <span class="name function">next_vertices</span><span class="punctuation">(</span><span class="name">position</span><span class="punctuation">,</span> <span class="name">_</span><span class="punctuation">):</span>
<span class="operator">...</span>     <span class="keyword">for</span> <span class="name">x</span><span class="punctuation">,</span> <span class="name">y</span> <span class="operator word">in</span> <span class="name">neighbors_in_grid</span><span class="punctuation">(</span><span class="name">position</span><span class="punctuation">):</span>
<span class="operator">...</span>         <span class="comment single"># Report the neighbor position, if it is allowed to enter it</span>
<span class="operator">...</span>         <span class="keyword">if</span> <span class="punctuation">(</span><span class="name">x</span><span class="operator">!=</span><span class="literal number integer">1</span> <span class="operator word">or</span> <span class="name">y</span><span class="operator">==</span><span class="literal number integer">3</span><span class="punctuation">)</span> <span class="operator word">and</span> <span class="punctuation">(</span><span class="name">x</span><span class="operator">!=</span><span class="literal number integer">3</span> <span class="operator word">or</span> <span class="name">y</span><span class="operator">==</span><span class="literal number integer">1</span><span class="punctuation">):</span>
<span class="operator">...</span>             <span class="keyword">yield</span> <span class="punctuation">(</span><span class="name">x</span><span class="punctuation">,</span> <span class="name">y</span><span class="punctuation">)</span>
<span class="operator">...</span>
</pre>
<p>Based on this function next_vertices, we can walk through a kind of maze that looks as follows:</p>
<pre class="literal-block">
XXXXXXX
XS#.#.X
X.#...X
X.#.#.X
X...#.X
X.#.#GX
XXXXXXX
</pre>
<p>Here, &quot;.&quot; means an allowed vertex, &quot;#&quot; a forbidden vertex, &quot;X&quot; symbolizes the position limits, the y-axis goes
downwards, the x-axis goes to the right, and positions (0, 0) and (4,4 ) are marked by &quot;S&quot; and &quot;G&quot; respectively.</p>
<p>We start at position (0, 0), traverse the graph, compute the depth of
position (4, 4), i.e. the number of edges needed from start to come to here, and a path with that edge count.</p>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">traversal</span> <span class="operator">=</span> <span class="name">nog</span><span class="operator">.</span><span class="name">TraversalBreadthFirst</span><span class="punctuation">(</span><span class="name">next_vertices</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">vertex</span> <span class="operator">=</span> <span class="name">traversal</span><span class="operator">.</span><span class="name">start_from</span><span class="punctuation">((</span><span class="literal number integer">0</span><span class="punctuation">,</span> <span class="literal number integer">0</span><span class="punctuation">),</span> <span class="name">build_paths</span><span class="operator">=</span><span class="keyword constant">True</span><span class="punctuation">)</span><span class="operator">.</span><span class="name">go_to</span><span class="punctuation">((</span><span class="literal number integer">4</span><span class="punctuation">,</span> <span class="literal number integer">4</span><span class="punctuation">))</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">traversal</span><span class="operator">.</span><span class="name">depth</span>
<span class="literal number integer">12</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">traversal</span><span class="operator">.</span><span class="name">paths</span><span class="punctuation">[</span><span class="name">vertex</span><span class="punctuation">]</span>
<span class="punctuation">((</span><span class="literal number integer">0</span><span class="punctuation">,</span> <span class="literal number integer">0</span><span class="punctuation">),</span> <span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span> <span class="literal number integer">1</span><span class="punctuation">),</span> <span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="punctuation">),</span> <span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span> <span class="literal number integer">3</span><span class="punctuation">),</span> <span class="punctuation">(</span><span class="literal number integer">1</span><span class="punctuation">,</span> <span class="literal number integer">3</span><span class="punctuation">),</span> <span class="punctuation">(</span><span class="literal number integer">2</span><span class="punctuation">,</span> <span class="literal number integer">3</span><span class="punctuation">),</span> <span class="punctuation">(</span><span class="literal number integer">2</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="punctuation">),</span> <span class="punctuation">(</span><span class="literal number integer">2</span><span class="punctuation">,</span> <span class="literal number integer">1</span><span class="punctuation">),</span> <span class="punctuation">(</span><span class="literal number integer">3</span><span class="punctuation">,</span> <span class="literal number integer">1</span><span class="punctuation">),</span> <span class="punctuation">(</span><span class="literal number integer">4</span><span class="punctuation">,</span> <span class="literal number integer">1</span><span class="punctuation">),</span> <span class="punctuation">(</span><span class="literal number integer">4</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="punctuation">),</span> <span class="punctuation">(</span><span class="literal number integer">4</span><span class="punctuation">,</span> <span class="literal number integer">3</span><span class="punctuation">),</span> <span class="punctuation">(</span><span class="literal number integer">4</span><span class="punctuation">,</span> <span class="literal number integer">4</span><span class="punctuation">))</span>
</pre>
</div>
<div class="section" id="breadth-first-search-for-the-towers-of-hanoi">
<h3>Breadth First Search for the Towers of Hanoi</h3>
<p>We play &quot;Towers of Hanoi&quot;
(see <a class="reference external" href="https://en.wikipedia.org/wiki/Tower_of_Hanoi">https://en.wikipedia.org/wiki/Tower_of_Hanoi</a>).
We model a tower as a tuple of the sizes of its &quot;disks&quot;, sorted in ascending order.
We decide that a vertex is a tuple of towers.
During the game, from one state to the other, we choose a tower, take its smallest disk, and put it on top of some
other tower, that contains only larger disks so far.</p>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="keyword">def</span> <span class="name function">next_vertices</span><span class="punctuation">(</span><span class="name">towers</span><span class="punctuation">,</span> <span class="name">_</span><span class="punctuation">):</span>
<span class="operator">...</span>     <span class="keyword">for</span> <span class="name">from_tower</span> <span class="operator word">in</span> <span class="name builtin">range</span><span class="punctuation">(</span><span class="name builtin">len</span><span class="punctuation">(</span><span class="name">towers</span><span class="punctuation">)):</span>
<span class="operator">...</span>         <span class="keyword">if</span> <span class="name builtin">len</span><span class="punctuation">(</span><span class="name">towers</span><span class="punctuation">[</span><span class="name">from_tower</span><span class="punctuation">])</span><span class="operator">==</span><span class="literal number integer">0</span><span class="punctuation">:</span> <span class="keyword">continue</span>
<span class="operator">...</span>         <span class="keyword">for</span> <span class="name">to_tower</span> <span class="operator word">in</span> <span class="name builtin">range</span><span class="punctuation">(</span><span class="name builtin">len</span><span class="punctuation">(</span><span class="name">towers</span><span class="punctuation">)):</span>
<span class="operator">...</span>             <span class="keyword">if</span> <span class="name">from_tower</span><span class="operator">==</span><span class="name">to_tower</span><span class="punctuation">:</span> <span class="keyword">continue</span>
<span class="operator">...</span>             <span class="keyword">if</span> <span class="name builtin">len</span><span class="punctuation">(</span><span class="name">towers</span><span class="punctuation">[</span><span class="name">to_tower</span><span class="punctuation">])</span><span class="operator">==</span><span class="literal number integer">0</span> <span class="operator word">or</span> <span class="name">towers</span><span class="punctuation">[</span><span class="name">from_tower</span><span class="punctuation">][</span><span class="literal number integer">0</span><span class="punctuation">]</span> <span class="operator">&lt;</span> <span class="name">towers</span><span class="punctuation">[</span><span class="name">to_tower</span><span class="punctuation">][</span><span class="literal number integer">0</span><span class="punctuation">]:</span>
<span class="operator">...</span>                 <span class="name">tmp_towers</span> <span class="operator">=</span> <span class="name builtin">list</span><span class="punctuation">(</span><span class="name">towers</span><span class="punctuation">)</span>
<span class="operator">...</span>                 <span class="name">tmp_towers</span><span class="punctuation">[</span><span class="name">to_tower</span><span class="punctuation">]</span> <span class="operator">=</span> <span class="punctuation">(</span><span class="name">towers</span><span class="punctuation">[</span><span class="name">from_tower</span><span class="punctuation">][</span><span class="literal number integer">0</span><span class="punctuation">],)</span> <span class="operator">+</span> <span class="name">towers</span><span class="punctuation">[</span><span class="name">to_tower</span><span class="punctuation">]</span>
<span class="operator">...</span>                 <span class="name">tmp_towers</span><span class="punctuation">[</span><span class="name">from_tower</span><span class="punctuation">]</span> <span class="operator">=</span> <span class="name">towers</span><span class="punctuation">[</span><span class="name">from_tower</span><span class="punctuation">][</span><span class="literal number integer">1</span><span class="punctuation">:]</span>
<span class="operator">...</span>                 <span class="keyword">yield</span> <span class="name builtin">tuple</span><span class="punctuation">(</span><span class="name">tmp_towers</span><span class="punctuation">)</span>
</pre>
<p>Now, we can use this graph to compute solutions of some Tower of Hanoi problems. We choose two problems:</p>
<ol class="arabic simple">
<li>Three towers, three discs on the first tower, and the goal is to have three discs on the second tower.</li>
<li>Three towers, four discs, discs of size 1 and 3 on the first tower, sizes 2 and 4 on the third tower, and
the goal is to have all disks on the second tower.</li>
</ol>
<p>We solve them, print the reached vertex, and print the minimal number of steps needed. To really see a
solution, we print a path with the minimal number of edges for problem 1.</p>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">traversal</span> <span class="operator">=</span> <span class="name">nog</span><span class="operator">.</span><span class="name">TraversalBreadthFirst</span><span class="punctuation">(</span><span class="name">next_vertices</span><span class="punctuation">)</span>

<span class="operator">&gt;&gt;&gt;</span> <span class="comment single"># -- problem 1 --</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">vertex</span> <span class="operator">=</span> <span class="name">traversal</span><span class="operator">.</span><span class="name">start_from</span><span class="punctuation">(</span> <span class="punctuation">((</span><span class="literal number integer">1</span><span class="punctuation">,</span><span class="literal number integer">2</span><span class="punctuation">,</span><span class="literal number integer">3</span><span class="punctuation">),</span> <span class="punctuation">(),</span> <span class="punctuation">()),</span> <span class="name">build_paths</span><span class="operator">=</span><span class="keyword constant">True</span><span class="punctuation">)</span><span class="operator">.</span><span class="name">go_to</span><span class="punctuation">(</span> <span class="punctuation">((),</span> <span class="punctuation">(</span><span class="literal number integer">1</span><span class="punctuation">,</span><span class="literal number integer">2</span><span class="punctuation">,</span><span class="literal number integer">3</span><span class="punctuation">),</span> <span class="punctuation">())</span> <span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">vertex</span><span class="punctuation">,</span> <span class="name">traversal</span><span class="operator">.</span><span class="name">depth</span>
<span class="punctuation">(((),</span> <span class="punctuation">(</span><span class="literal number integer">1</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="punctuation">,</span> <span class="literal number integer">3</span><span class="punctuation">),</span> <span class="punctuation">()),</span> <span class="literal number integer">7</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="keyword">for</span> <span class="name">vertex</span> <span class="operator word">in</span> <span class="name">traversal</span><span class="operator">.</span><span class="name">paths</span><span class="punctuation">[</span><span class="name">vertex</span><span class="punctuation">]:</span>
<span class="operator">...</span>     <span class="name builtin">print</span><span class="punctuation">(</span><span class="name">vertex</span><span class="punctuation">)</span>
<span class="punctuation">((</span><span class="literal number integer">1</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="punctuation">,</span> <span class="literal number integer">3</span><span class="punctuation">),</span> <span class="punctuation">(),</span> <span class="punctuation">())</span>
<span class="punctuation">((</span><span class="literal number integer">2</span><span class="punctuation">,</span> <span class="literal number integer">3</span><span class="punctuation">),</span> <span class="punctuation">(</span><span class="literal number integer">1</span><span class="punctuation">,),</span> <span class="punctuation">())</span>
<span class="punctuation">((</span><span class="literal number integer">3</span><span class="punctuation">,),</span> <span class="punctuation">(</span><span class="literal number integer">1</span><span class="punctuation">,),</span> <span class="punctuation">(</span><span class="literal number integer">2</span><span class="punctuation">,))</span>
<span class="punctuation">((</span><span class="literal number integer">3</span><span class="punctuation">,),</span> <span class="punctuation">(),</span> <span class="punctuation">(</span><span class="literal number integer">1</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="punctuation">))</span>
<span class="punctuation">((),</span> <span class="punctuation">(</span><span class="literal number integer">3</span><span class="punctuation">,),</span> <span class="punctuation">(</span><span class="literal number integer">1</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="punctuation">))</span>
<span class="punctuation">((</span><span class="literal number integer">1</span><span class="punctuation">,),</span> <span class="punctuation">(</span><span class="literal number integer">3</span><span class="punctuation">,),</span> <span class="punctuation">(</span><span class="literal number integer">2</span><span class="punctuation">,))</span>
<span class="punctuation">((</span><span class="literal number integer">1</span><span class="punctuation">,),</span> <span class="punctuation">(</span><span class="literal number integer">2</span><span class="punctuation">,</span> <span class="literal number integer">3</span><span class="punctuation">),</span> <span class="punctuation">())</span>
<span class="punctuation">((),</span> <span class="punctuation">(</span><span class="literal number integer">1</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="punctuation">,</span> <span class="literal number integer">3</span><span class="punctuation">),</span> <span class="punctuation">())</span>

<span class="operator">&gt;&gt;&gt;</span> <span class="comment single"># -- problem 2 --</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">vertex</span> <span class="operator">=</span> <span class="name">traversal</span><span class="operator">.</span><span class="name">start_from</span><span class="punctuation">(</span> <span class="punctuation">((</span><span class="literal number integer">1</span><span class="punctuation">,</span><span class="literal number integer">3</span><span class="punctuation">),</span> <span class="punctuation">(),</span> <span class="punctuation">(</span><span class="literal number integer">2</span><span class="punctuation">,</span><span class="literal number integer">4</span><span class="punctuation">))</span> <span class="punctuation">)</span><span class="operator">.</span><span class="name">go_to</span><span class="punctuation">(</span> <span class="punctuation">((),</span> <span class="punctuation">(</span><span class="literal number integer">1</span><span class="punctuation">,</span><span class="literal number integer">2</span><span class="punctuation">,</span><span class="literal number integer">3</span><span class="punctuation">,</span><span class="literal number integer">4</span><span class="punctuation">),</span> <span class="punctuation">())</span> <span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">vertex</span><span class="punctuation">,</span> <span class="name">traversal</span><span class="operator">.</span><span class="name">depth</span>
<span class="punctuation">(((),</span> <span class="punctuation">(</span><span class="literal number integer">1</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="punctuation">,</span> <span class="literal number integer">3</span><span class="punctuation">,</span> <span class="literal number integer">4</span><span class="punctuation">),</span> <span class="punctuation">()),</span> <span class="literal number integer">11</span><span class="punctuation">)</span>
</pre>
</div>
<div class="section" id="topological-sorting-of-process-steps">
<h3>Topological sorting of process steps</h3>
<p>In this example, vertices are strings that name tasks. The successors of a task are tasks that have to be done
before it.</p>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">depends_on</span> <span class="operator">=</span> <span class="punctuation">{</span><span class="literal string double">&quot;drink coffee&quot;</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="literal string double">&quot;make coffee&quot;</span><span class="punctuation">,</span> <span class="punctuation">),</span>
<span class="operator">...</span>               <span class="literal string double">&quot;make coffee&quot;</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="literal string double">&quot;stand up&quot;</span><span class="punctuation">,</span> <span class="literal string double">&quot;get water&quot;</span><span class="punctuation">),</span>
<span class="operator">...</span>               <span class="literal string double">&quot;get water&quot;</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="literal string double">&quot;stand up&quot;</span><span class="punctuation">,)}</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="keyword">def</span> <span class="name function">next_vertices</span><span class="punctuation">(</span><span class="name">task</span><span class="punctuation">,</span> <span class="name">_</span><span class="punctuation">):</span>
<span class="operator">...</span>     <span class="keyword">return</span> <span class="name">depends_on</span><span class="operator">.</span><span class="name">get</span><span class="punctuation">(</span><span class="name">task</span><span class="punctuation">,</span> <span class="punctuation">())</span>
</pre>
<p>We use this graph to find out how to proceed to be able to drink coffee. For that, we
traverse the graph in topological order, and start the problem solution process at &quot;drink coffee&quot;.</p>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name builtin">tuple</span><span class="punctuation">(</span><span class="name">nog</span><span class="operator">.</span><span class="name">TraversalTopologicalSorted</span><span class="punctuation">(</span><span class="name">next_vertices</span><span class="punctuation">)</span><span class="operator">.</span><span class="name">start_from</span><span class="punctuation">(</span><span class="literal string double">&quot;drink coffee&quot;</span><span class="punctuation">))</span>
<span class="punctuation">(</span><span class="literal string single">'stand up'</span><span class="punctuation">,</span> <span class="literal string single">'get water'</span><span class="punctuation">,</span> <span class="literal string single">'make coffee'</span><span class="punctuation">,</span> <span class="literal string single">'drink coffee'</span><span class="punctuation">)</span>
</pre>
</div>
<div class="section" id="dijkstra-in-a-maze-with-weights">
<h3>Dijkstra in a maze with weights</h3>
<p>Here, vertices are tuples of x and y coordinates. A coordinate is an integer between 0 and 4. From each
position, the horizontal and vertical neighbors are the successors, and a move to a neighbor has &quot;costs&quot; that
depend on its position.</p>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">data</span> <span class="operator">=</span> <span class="literal string single">'''
... 02819
... 37211
... 21290
... 91888
... 55990
... '''</span><span class="operator">.</span><span class="name">strip</span><span class="punctuation">()</span><span class="operator">.</span><span class="name">splitlines</span><span class="punctuation">()</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="keyword">def</span> <span class="name function">next_edges</span><span class="punctuation">(</span><span class="name">position</span><span class="punctuation">,</span> <span class="name">_</span><span class="punctuation">):</span>
<span class="operator">...</span>     <span class="keyword">for</span> <span class="name">x</span><span class="punctuation">,</span> <span class="name">y</span> <span class="operator word">in</span> <span class="name">neighbors_in_grid</span><span class="punctuation">(</span><span class="name">position</span><span class="punctuation">):</span>
<span class="operator">...</span>         <span class="keyword">yield</span> <span class="punctuation">(</span><span class="name">x</span><span class="punctuation">,</span> <span class="name">y</span><span class="punctuation">),</span> <span class="name builtin">int</span><span class="punctuation">(</span><span class="name">data</span><span class="punctuation">[</span><span class="name">y</span><span class="punctuation">][</span><span class="name">x</span><span class="punctuation">])</span>
</pre>
<p>Based on that, we can take a cost-optimized walk through an area with costs per place...</p>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">traversal</span> <span class="operator">=</span> <span class="name">nog</span><span class="operator">.</span><span class="name">TraversalShortestPaths</span><span class="punctuation">(</span><span class="name">next_edges</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">found</span> <span class="operator">=</span> <span class="name">traversal</span><span class="operator">.</span><span class="name">start_from</span><span class="punctuation">((</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="literal number integer">0</span><span class="punctuation">),</span> <span class="name">build_paths</span><span class="operator">=</span><span class="keyword constant">True</span><span class="punctuation">)</span><span class="operator">.</span><span class="name">go_to</span><span class="punctuation">((</span><span class="literal number integer">4</span><span class="punctuation">,</span><span class="literal number integer">2</span><span class="punctuation">))</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">traversal</span><span class="operator">.</span><span class="name">distance</span><span class="punctuation">,</span> <span class="name">traversal</span><span class="operator">.</span><span class="name">paths</span><span class="punctuation">[</span><span class="name">found</span><span class="punctuation">]</span>
<span class="punctuation">(</span><span class="literal number integer">12</span><span class="punctuation">,</span> <span class="punctuation">((</span><span class="literal number integer">0</span><span class="punctuation">,</span> <span class="literal number integer">0</span><span class="punctuation">),</span> <span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span> <span class="literal number integer">1</span><span class="punctuation">),</span> <span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="punctuation">),</span> <span class="punctuation">(</span><span class="literal number integer">1</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="punctuation">),</span> <span class="punctuation">(</span><span class="literal number integer">2</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="punctuation">),</span> <span class="punctuation">(</span><span class="literal number integer">2</span><span class="punctuation">,</span> <span class="literal number integer">1</span><span class="punctuation">),</span> <span class="punctuation">(</span><span class="literal number integer">3</span><span class="punctuation">,</span> <span class="literal number integer">1</span><span class="punctuation">),</span> <span class="punctuation">(</span><span class="literal number integer">4</span><span class="punctuation">,</span> <span class="literal number integer">1</span><span class="punctuation">),</span> <span class="punctuation">(</span><span class="literal number integer">4</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="punctuation">)))</span>
</pre>
</div>
</div>
</div>
<div class="section" id="callback-functions-for-graph-adaptation">
<h1>Callback functions for graph adaptation</h1>
<p>In the shown examples you saw next_vertices and next_edges functions. In the following sections we will explain
how to define and use these types of functions.</p>
<div class="section" id="graphs-with-unlabeled-edges">
<h2>Graphs with unlabeled edges</h2>
<p>An edge of your graph is called <em>directed</em> and <em>unlabeled</em>, if it consists of a start vertex and an end vertex and
carries no further information. The end vertex is called a <em>successor</em> of the start vertex.</p>
<p>If your graph consists of such edges, you can give the library access to it
by providing a callback function in the form of a so-called <em>next_vertices function</em>:</p>
<ul class="simple">
<li>Input: A <strong>vertex</strong> and the <strong>traversal object</strong></li>
<li>Output: The function returns an <strong>Iterable that reports the successors</strong> of the vertex</li>
</ul>
<p>We will discuss in section <a class="reference internal" href="#search-aware-graphs">search-aware graphs</a>, what the traversal object is for, and ignore this parameter
for the time being.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p>A typical <em>next_vertices</em> function for graphs with unlabeled edges looks like this:</p>
<pre class="literal-block">
def my_next_vertices(vertex, _):
     # determine the vertices following the current vertex, e.g. as a list
     successors = ...
     return successors
</pre>
<p>Or like this:</p>
<pre class="last literal-block">
def my_next_vertices(vertex, _):
     yield successor_1
     ...
     yield successor_n
</pre>
</div>
<p>Note: The current version of NoGraphs is limited to <em>locally finite graphs</em>, i.e., each vertex is start vertex of
only finitely many edges.</p>
<p><strong>Example:</strong></p>
<p>We choose to use integers to identify vertices. For each vertex i, we define i+1 and 2*i as its successors.
This is an infinite graph. We use an algorithm of the library to find out, how many
edges we need to traverse to come from vertex 0 to vertex 9, and to get such a path through the graph.</p>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="keyword">def</span> <span class="name function">next_vertices</span><span class="punctuation">(</span><span class="name">i</span><span class="punctuation">,</span> <span class="name">_</span><span class="punctuation">):</span>
<span class="operator">...</span>     <span class="keyword">yield</span> <span class="name">i</span> <span class="operator">+</span> <span class="literal number integer">1</span>
<span class="operator">...</span>     <span class="keyword">yield</span> <span class="literal number integer">2</span> <span class="operator">*</span> <span class="name">i</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">traversal</span> <span class="operator">=</span> <span class="name">nog</span><span class="operator">.</span><span class="name">TraversalBreadthFirst</span><span class="punctuation">(</span><span class="name">next_vertices</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">vertex</span> <span class="operator">=</span> <span class="name">traversal</span><span class="operator">.</span><span class="name">start_from</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span> <span class="name">build_paths</span><span class="operator">=</span><span class="keyword constant">True</span><span class="punctuation">)</span><span class="operator">.</span><span class="name">go_to</span><span class="punctuation">(</span><span class="literal number integer">9</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">traversal</span><span class="operator">.</span><span class="name">depth</span>
<span class="literal number integer">5</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">traversal</span><span class="operator">.</span><span class="name">paths</span><span class="punctuation">[</span><span class="name">vertex</span><span class="punctuation">]</span>
<span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span> <span class="literal number integer">1</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="punctuation">,</span> <span class="literal number integer">4</span><span class="punctuation">,</span> <span class="literal number integer">8</span><span class="punctuation">,</span> <span class="literal number integer">9</span><span class="punctuation">)</span>
</pre>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">If you graph is <em>undirected</em>, i.e., each edge connects two vertices in both directions, then the next_vertices
function needs to report the edges in both directions.</p>
</div>
</div>
<div class="section" id="graphs-with-labeled-edges">
<h2>Graphs with labeled edges</h2>
<p>A labeled edge carries data, e.g. a weight.</p>
<p>If you graph consists of such edges, you can give the library access to it
by providing a callback function in the form of a so-called <em>next_edges function</em>:</p>
<ul class="simple">
<li>Input: A <strong>vertex</strong> and the <strong>traversal object</strong></li>
<li>Output: The function <strong>reports each outgoing edge in the form of a tuple</strong>. The first element of the tuple has to be
<strong>the end vertex of the edge</strong>, the following elements contain your <strong>additional data</strong>.</li>
</ul>
<p>For algorithms that require weighted edges,
the <strong>weights have to be given as the second element</strong> of the tuple,
need to be <strong>mutual comparable</strong>, <strong>comparable to float('infinity')</strong> and it must be possible to <strong>add them up</strong>.
Typical choices are the floats or some convertible to a float (e.g., an int).</p>
<p>Edge data will be included in analysis results, if demanded.</p>
<p>We will discuss in section <a class="reference internal" href="#search-aware-graphs">search-aware graphs</a>, what the traversal object is for, and continue to ignore this
parameter for the time being.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p>A typical <em>next_edges</em> function for graphs with labeled edges looks like this:</p>
<pre class="literal-block">
def my_next_edges(vertex, _):
     # determine the edges that start at the current vertex,
     # e.g. in the form [(end_vertex_1, weight_1, data_1...), ...]
     labeled_edges = ...
     return labeled_edges
</pre>
<p>Or like this:</p>
<pre class="last literal-block">
def my_next_edges(vertex, _):
     yield successor_1, weight_1, data_1, ...
     ...
     yield successor_n, weight_n, data_n, ...
</pre>
</div>
<p><strong>Example</strong>:</p>
<p>For a vertex i, we define i+1, 2*i and i*i to be its successors, attach weights 1, 2 and 3 to these
edges, and we attach names to them, so that we can easily identify them in computation results.
We use an algorithm of the library to find a shortest path (in the sum of edge weights) from vertex 0 to vertex 99,
that shows not only the visited vertices, but also the labels of the traversed edges.</p>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="keyword">def</span> <span class="name function">next_edges</span><span class="punctuation">(</span><span class="name">i</span><span class="punctuation">,</span> <span class="name">_</span><span class="punctuation">):</span>
<span class="operator">...</span>     <span class="keyword">yield</span> <span class="name">i</span> <span class="operator">+</span> <span class="literal number integer">1</span><span class="punctuation">,</span> <span class="literal number integer">1</span><span class="punctuation">,</span> <span class="literal string double">&quot;i+1&quot;</span>
<span class="operator">...</span>     <span class="keyword">yield</span> <span class="literal number integer">2</span> <span class="operator">*</span> <span class="name">i</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="punctuation">,</span> <span class="literal string double">&quot;2*i&quot;</span>
<span class="operator">...</span>     <span class="keyword">yield</span> <span class="name">i</span> <span class="operator">*</span> <span class="name">i</span><span class="punctuation">,</span> <span class="literal number integer">3</span><span class="punctuation">,</span> <span class="literal string double">&quot;i*i&quot;</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">traversal</span> <span class="operator">=</span> <span class="name">nog</span><span class="operator">.</span><span class="name">TraversalShortestPaths</span><span class="punctuation">(</span><span class="name">next_edges</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">vertex</span> <span class="operator">=</span> <span class="name">traversal</span><span class="operator">.</span><span class="name">start_from</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span> <span class="name">build_paths</span><span class="operator">=</span><span class="keyword constant">True</span><span class="punctuation">,</span> <span class="name">labeled_paths</span><span class="operator">=</span><span class="keyword constant">True</span><span class="punctuation">)</span><span class="operator">.</span><span class="name">go_to</span><span class="punctuation">(</span><span class="literal number integer">99</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">traversal</span><span class="operator">.</span><span class="name">distance</span>
<span class="literal number integer">12</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="keyword">for</span> <span class="name">edge</span> <span class="operator word">in</span> <span class="name">traversal</span><span class="operator">.</span><span class="name">paths</span><span class="punctuation">[</span><span class="name">vertex</span><span class="punctuation">]:</span>
<span class="operator">...</span>     <span class="name builtin">print</span><span class="punctuation">(</span><span class="name">edge</span><span class="punctuation">)</span>
<span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span> <span class="literal number integer">1</span><span class="punctuation">,</span> <span class="literal number integer">1</span><span class="punctuation">,</span> <span class="literal string single">'i+1'</span><span class="punctuation">)</span>
<span class="punctuation">(</span><span class="literal number integer">1</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="punctuation">,</span> <span class="literal number integer">1</span><span class="punctuation">,</span> <span class="literal string single">'i+1'</span><span class="punctuation">)</span>
<span class="punctuation">(</span><span class="literal number integer">2</span><span class="punctuation">,</span> <span class="literal number integer">3</span><span class="punctuation">,</span> <span class="literal number integer">1</span><span class="punctuation">,</span> <span class="literal string single">'i+1'</span><span class="punctuation">)</span>
<span class="punctuation">(</span><span class="literal number integer">3</span><span class="punctuation">,</span> <span class="literal number integer">6</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="punctuation">,</span> <span class="literal string single">'2*i'</span><span class="punctuation">)</span>
<span class="punctuation">(</span><span class="literal number integer">6</span><span class="punctuation">,</span> <span class="literal number integer">7</span><span class="punctuation">,</span> <span class="literal number integer">1</span><span class="punctuation">,</span> <span class="literal string single">'i+1'</span><span class="punctuation">)</span>
<span class="punctuation">(</span><span class="literal number integer">7</span><span class="punctuation">,</span> <span class="literal number integer">49</span><span class="punctuation">,</span> <span class="literal number integer">3</span><span class="punctuation">,</span> <span class="literal string single">'i*i'</span><span class="punctuation">)</span>
<span class="punctuation">(</span><span class="literal number integer">49</span><span class="punctuation">,</span> <span class="literal number integer">98</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="punctuation">,</span> <span class="literal string single">'2*i'</span><span class="punctuation">)</span>
<span class="punctuation">(</span><span class="literal number integer">98</span><span class="punctuation">,</span> <span class="literal number integer">99</span><span class="punctuation">,</span> <span class="literal number integer">1</span><span class="punctuation">,</span> <span class="literal string single">'i+1'</span><span class="punctuation">)</span>
</pre>
</div>
<div class="section" id="vertices">
<h2>Vertices</h2>
<p>You can use any hashable python object as vertex, with the exception of None. In the examples, we made use of this
flexibility.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">Typical choices for vertices are the immutable data types of Python, like integers, strings, tuples, named tuples
and frozenset, combinations of those, and application specific hashable data structures.</p>
</div>
<p>Additionally, a vertex can be an object that is not hashable, if you provide a function
(&quot;vertex_to_id&quot;, see <a class="reference internal" href="#api-documentation">API documentation</a>) that computes a hashable id for it, and the hash stays the
same during computations of the library.</p>
</div>
<div class="section" id="special-cases">
<h2>Special cases</h2>
<p>NoGraphs supports graphs with multiple edges, loops and self loops:</p>
<ul class="simple">
<li>If a graph contains several edges with the same start and end vertex, these edges are called <em>multiple edges</em>.</li>
<li>If a graph contains a path that starts at some vertex and ends at the same vertex, the path is called a <em>loop</em>.</li>
<li>If a graph contains an edge with identical start and end vertex, this is called a <em>self loop</em>.</li>
</ul>
</div>
<div class="section" id="search-aware-graphs">
<h2>Search-aware graphs</h2>
<p>A graph is a <em>search-aware</em> graph (to be exact: a graph that is defined in a search-aware way),
<strong>if existence or attributes of some vertices or edges are defined using partial results</strong>
that an algorithm traversing the graph has computed <strong>based on the already traversed part
of the graph</strong>.</p>
<p>From a mathematical point of view, this is just an ordinary graph with a special form of recursive definition,
and the definition uses a function that calculates properties of parts of the graph that are already known.
From a practical point of view, search-aware graphs enrich our possibilities.</p>
<p>With NoGraphs, you can define such a graph. In your next_edges or next_vertices function,
you can easily use state attributes of the search like the current search depth or already computed
paths: as shown before, <strong>you get the current traversal as second parameter</strong>, and
<strong>the traversal object provides state information to you</strong>.</p>
<p>Note: In the examples shown so far, we have already accessed the traversal object to read current state information
as part of the traversal results, e.g. the depth of the currently visited vertex, or one of the paths that have
already been calculated. But for search-aware graphs, we access the state in the callback function and use it
to define further parts of the graph - and the library allows for that.</p>
<p><strong>Example: Sieve of Eratosthenes, reduced to Dijkstra search</strong></p>
<p>We implement an infinite generator version for the Sieve of Eratosthenes
(see <a class="reference external" href="https://en.wikipedia.org/wiki/Sieve_of_Eratosthenes">https://en.wikipedia.org/wiki/Sieve_of_Eratosthenes</a>) in the form of a search in an infinite and search-aware
graph.</p>
<p>We represent the elements of a sequence of numbers (j, j+increment, j+2*increment, ...) by tuples
(current_value_i, increment). These tuples are our vertices.</p>
<p>We start such a sequence, the <em>base sequence</em>, at (1, 1). For each prime i that we find, we start an additional
sequence at i*i with increment i, a <em>multiples sequence</em>. And we define edges that connect a vertex (current_number, i)
of a multiples sequence with (current_number, 1) of the base sequence.</p>
<p>We choose the weights in such a way, that the weight of a path to a number equals the number itself, if it is reached
by the base sequence alone, and slightly less, if the path goes through a multiples sequence. Here, we use the
distance of a vertex from the start vertex (that means: a partial result of the search),
to define elements of the graphs that are still to be searched. The graph is a search-aware graph.</p>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="keyword">def</span> <span class="name function">next_edges</span><span class="punctuation">(</span><span class="name">vertex</span><span class="punctuation">,</span> <span class="name">traversal</span><span class="punctuation">):</span>
<span class="operator">...</span>     <span class="name">i</span><span class="punctuation">,</span> <span class="name">increment</span> <span class="operator">=</span> <span class="name">vertex</span>  <span class="comment single"># a vertex in the synthetic search graph is a tuple (number, increment)</span>
<span class="operator">...</span>     <span class="keyword">if</span> <span class="name">increment</span> <span class="operator">==</span> <span class="literal number integer">1</span><span class="punctuation">:</span>  <span class="comment single"># base sequence</span>
<span class="operator">...</span>         <span class="keyword">yield</span> <span class="punctuation">(</span><span class="name">i</span><span class="operator">+</span><span class="literal number integer">1</span><span class="punctuation">,</span> <span class="literal number integer">1</span><span class="punctuation">),</span> <span class="punctuation">(</span><span class="name">i</span><span class="operator">+</span><span class="literal number integer">1</span><span class="punctuation">)</span> <span class="operator">-</span> <span class="name">traversal</span><span class="operator">.</span><span class="name">distance</span>  <span class="comment single"># edge to next number i+1, path length i+1</span>
<span class="operator">...</span>         <span class="keyword">if</span> <span class="name">traversal</span><span class="operator">.</span><span class="name">distance</span> <span class="operator">==</span> <span class="name">i</span><span class="punctuation">:</span>  <span class="comment single"># i is prime (is neither 1 nor reached via a multiples sequence)</span>
<span class="operator">...</span>             <span class="keyword">yield</span> <span class="punctuation">(</span><span class="name">i</span><span class="operator">*</span><span class="name">i</span><span class="punctuation">,</span> <span class="name">i</span><span class="punctuation">),</span> <span class="name">i</span><span class="operator">*</span><span class="name">i</span> <span class="operator">-</span> <span class="name">i</span> <span class="operator">-</span> <span class="literal number float">0.5</span>  <span class="comment single"># start sequence of i multiples at i*i, with distance advantage -0.5</span>
<span class="operator">...</span>     <span class="keyword">else</span><span class="punctuation">:</span>  <span class="comment single"># multiples sequence</span>
<span class="operator">...</span>         <span class="keyword">yield</span> <span class="punctuation">(</span><span class="name">i</span><span class="operator">+</span><span class="name">increment</span><span class="punctuation">,</span> <span class="name">increment</span><span class="punctuation">),</span> <span class="name">increment</span>  <span class="comment single"># edge to next multiple, weight equals increment</span>
<span class="operator">...</span>         <span class="keyword">yield</span> <span class="punctuation">(</span><span class="name">i</span><span class="punctuation">,</span> <span class="literal number integer">1</span><span class="punctuation">),</span> <span class="literal number integer">0</span>  <span class="comment single"># connection to vertex for i of the base sequence, length 0</span>
</pre>
<p>Now, we start the search at vertex (1, 1), go till number 50, and print the found primes.</p>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="keyword namespace">import</span> <span class="name namespace">itertools</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">traversal</span> <span class="operator">=</span> <span class="name">nog</span><span class="operator">.</span><span class="name">TraversalShortestPaths</span><span class="punctuation">(</span><span class="name">next_edges</span><span class="punctuation">)</span><span class="operator">.</span><span class="name">start_from</span><span class="punctuation">((</span><span class="literal number integer">1</span><span class="punctuation">,</span> <span class="literal number integer">1</span><span class="punctuation">))</span>  <span class="comment single"># Dijkstra from (1, None)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name builtin">list</span><span class="punctuation">(</span><span class="name">itertools</span><span class="operator">.</span><span class="name">takewhile</span><span class="punctuation">(</span><span class="keyword">lambda</span> <span class="name">i</span><span class="punctuation">:</span> <span class="name">i</span><span class="operator">&lt;=</span><span class="literal number integer">50</span><span class="punctuation">,</span>  <span class="comment single"># results up to 50, as list</span>
<span class="operator">...</span>      <span class="punctuation">(</span><span class="name">i</span> <span class="keyword">for</span> <span class="name">i</span><span class="punctuation">,</span> <span class="name">factor</span> <span class="operator word">in</span> <span class="name">traversal</span> <span class="keyword">if</span> <span class="name">i</span> <span class="operator">==</span> <span class="name">traversal</span><span class="operator">.</span><span class="name">distance</span><span class="punctuation">)))</span>  <span class="comment single"># only the primes</span>
<span class="punctuation">[</span><span class="literal number integer">2</span><span class="punctuation">,</span> <span class="literal number integer">3</span><span class="punctuation">,</span> <span class="literal number integer">5</span><span class="punctuation">,</span> <span class="literal number integer">7</span><span class="punctuation">,</span> <span class="literal number integer">11</span><span class="punctuation">,</span> <span class="literal number integer">13</span><span class="punctuation">,</span> <span class="literal number integer">17</span><span class="punctuation">,</span> <span class="literal number integer">19</span><span class="punctuation">,</span> <span class="literal number integer">23</span><span class="punctuation">,</span> <span class="literal number integer">29</span><span class="punctuation">,</span> <span class="literal number integer">31</span><span class="punctuation">,</span> <span class="literal number integer">37</span><span class="punctuation">,</span> <span class="literal number integer">41</span><span class="punctuation">,</span> <span class="literal number integer">43</span><span class="punctuation">,</span> <span class="literal number integer">47</span><span class="punctuation">]</span>
</pre>
</div>
<div class="section" id="graph-pruning-abstraction-and-multiplication">
<h2>Graph pruning, abstraction and multiplication</h2>
<p>Sometimes, we focus on just a part of a graph and leave out some vertices and edges, that are outside
of our focus. This is a form of <em>graph pruning</em>.</p>
<p>Sometimes, we want to analyze a graph from a simplified point of view, that makes it easier to understand
or more efficient to process the graph, but preserves important properties of it. This is a form of
<em>graph abstraction</em>.</p>
<p>Sometimes, we want to combine two graphs in the sense of a multiplication: Vertices are combinations of
vertices of the two graphs, end edges are combinations of edges of the two vertices.
This creates a <em>product graph</em>.</p>
<p>All three kinds of operations on graphs are supported by NoGraphs and its API concept: We can easily implement them in
application code on the basis of next_vertices resp. next_edges functions, what gives us flexibility, and we can
use the mechanisms of NoGraphs for necessary computation, what makes the implementation easier.</p>
<p><strong>Example:</strong></p>
<p>Step 1: We define a graph that connects neighboring integers:</p>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="keyword">def</span> <span class="name function">next_vertices_1d_all</span><span class="punctuation">(</span><span class="name">i</span><span class="punctuation">,</span> <span class="name">_</span><span class="punctuation">):</span>
<span class="operator">...</span>     <span class="keyword">return</span> <span class="punctuation">(</span><span class="name">i</span> <span class="operator">+</span> <span class="name">delta</span> <span class="keyword">for</span> <span class="name">delta</span> <span class="operator word">in</span> <span class="name builtin">range</span><span class="punctuation">(</span><span class="operator">-</span><span class="literal number integer">1</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="punctuation">))</span>
</pre>
<p>Step 2: We <strong>prune the graph</strong> to limit it to coordinates in the range 0 ... 9:</p>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="keyword">def</span> <span class="name function">next_vertices_1d</span><span class="punctuation">(</span><span class="name">i</span><span class="punctuation">,</span> <span class="name">_</span><span class="punctuation">):</span>
<span class="operator">...</span>     <span class="keyword">return</span> <span class="name builtin">filter</span><span class="punctuation">(</span><span class="keyword">lambda</span> <span class="name">j</span><span class="punctuation">:</span> <span class="name">j</span> <span class="operator word">in</span> <span class="name builtin">range</span><span class="punctuation">(</span><span class="literal number integer">10</span><span class="punctuation">),</span> <span class="name">next_vertices_1d_all</span><span class="punctuation">(</span><span class="name">i</span><span class="punctuation">,</span> <span class="name">_</span><span class="punctuation">))</span>
</pre>
<p>Step 3: We build the <strong>product of the graph with itself</strong> to get moves in two dimensions (horizontally, vertically,
diagonally, and the zero move):</p>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="keyword namespace">import</span> <span class="name namespace">itertools</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="keyword">def</span> <span class="name function">next_vertices_2d</span><span class="punctuation">(</span><span class="name">pos</span><span class="punctuation">,</span> <span class="name">_</span><span class="punctuation">):</span>
<span class="operator">...</span>     <span class="keyword">return</span> <span class="punctuation">(</span><span class="name">itertools</span><span class="operator">.</span><span class="name">product</span><span class="punctuation">(</span><span class="name">next_vertices_1d</span><span class="punctuation">(</span><span class="name">pos</span><span class="punctuation">[</span><span class="literal number integer">0</span><span class="punctuation">],</span> <span class="name">_</span><span class="punctuation">),</span> <span class="name">next_vertices_1d</span><span class="punctuation">(</span><span class="name">pos</span><span class="punctuation">[</span><span class="literal number integer">1</span><span class="punctuation">],</span> <span class="name">_</span><span class="punctuation">)))</span>
</pre>
<p>Step 4: We model the routes of a truck between a home position and 4 positions with goods. Only the travel distances
measured in the needed moves according to step 3 are relevant for our further steps, not the individual positions
along a route.</p>
<p>We use <strong>graph abstraction</strong> to simplify our model accordingly and to preserve the distance measure.</p>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">home_position</span> <span class="operator">=</span> <span class="punctuation">(</span><span class="literal number integer">4</span><span class="punctuation">,</span> <span class="literal number integer">0</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">goods_positions</span> <span class="operator">=</span> <span class="punctuation">((</span><span class="literal number integer">0</span><span class="punctuation">,</span> <span class="literal number integer">4</span><span class="punctuation">),</span> <span class="punctuation">(</span><span class="literal number integer">2</span><span class="punctuation">,</span> <span class="literal number integer">9</span><span class="punctuation">),</span> <span class="punctuation">(</span><span class="literal number integer">7</span><span class="punctuation">,</span> <span class="literal number integer">9</span><span class="punctuation">),</span> <span class="punctuation">(</span><span class="literal number integer">9</span><span class="punctuation">,</span> <span class="literal number integer">4</span><span class="punctuation">))</span>  <span class="comment single"># positions of goods with id 0 to 3</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">relevant_positions</span> <span class="operator">=</span> <span class="name">goods_positions</span> <span class="operator">+</span> <span class="punctuation">(</span><span class="name">home_position</span><span class="punctuation">,)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">traversal4</span> <span class="operator">=</span> <span class="name">nog</span><span class="operator">.</span><span class="name">TraversalBreadthFirst</span><span class="punctuation">(</span><span class="name">next_vertices_2d</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="keyword namespace">import</span> <span class="name namespace">functools</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name decorator">&#64;functools</span><span class="operator">.</span><span class="name">cache</span>
<span class="operator">...</span> <span class="keyword">def</span> <span class="name function">next_vertices_pos</span><span class="punctuation">(</span><span class="name">pos</span><span class="punctuation">,</span> <span class="name">_</span><span class="punctuation">):</span>
<span class="operator">...</span>     <span class="name">goals</span> <span class="operator">=</span> <span class="name builtin">tuple</span><span class="punctuation">(</span><span class="name">p</span> <span class="keyword">for</span> <span class="name">p</span> <span class="operator word">in</span> <span class="name">relevant_positions</span> <span class="keyword">if</span> <span class="name">p</span> <span class="operator">!=</span> <span class="name">pos</span><span class="punctuation">)</span>
<span class="operator">...</span>     <span class="keyword">return</span> <span class="name builtin">tuple</span><span class="punctuation">((</span><span class="name">vertex</span><span class="punctuation">,</span> <span class="name">traversal4</span><span class="operator">.</span><span class="name">depth</span><span class="punctuation">)</span>
<span class="operator">...</span>                  <span class="keyword">for</span> <span class="name">vertex</span> <span class="operator word">in</span> <span class="name">traversal4</span><span class="operator">.</span><span class="name">start_from</span><span class="punctuation">(</span><span class="name">pos</span><span class="punctuation">)</span><span class="operator">.</span><span class="name">go_for_vertices_in</span><span class="punctuation">(</span><span class="name">goals</span><span class="punctuation">))</span>
</pre>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<ul class="last simple">
<li>Without the line &#64;functools.cache, this code demonstrates how <strong>graph abstraction can be done
on the fly</strong>: Calls to next_vertices_pos trigger the needed computation of properties of the underlying graph
defined by next_vertices_2 (here, some distances are computed).</li>
<li>Together with the line &#64;functools.cache, the code demonstrates how repeatedly needed parts of a graph
can be <strong>materialized</strong>, if the graph is defined in an implicit way by using a next_vertices function:
Computed edges are stored in a cache and the results in the cache
are used to avoid repeated computations.</li>
</ul>
</div>
<p>Step 5: At the goods positions, the truck loads the good that lays there. The truck is slower the more goods
it carries. At the home position, the truck unloads all goods it carries. We model this as follows:</p>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">position_to_good</span> <span class="operator">=</span> <span class="name builtin">dict</span><span class="punctuation">((</span><span class="name">p</span><span class="punctuation">,</span> <span class="name">g</span><span class="punctuation">)</span> <span class="keyword">for</span> <span class="name">g</span><span class="punctuation">,</span> <span class="name">p</span> <span class="operator word">in</span> <span class="name builtin">enumerate</span><span class="punctuation">(</span><span class="name">goods_positions</span><span class="punctuation">))</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="keyword">def</span> <span class="name function">next_edges_way</span><span class="punctuation">(</span><span class="name">state</span><span class="punctuation">,</span> <span class="name">_</span><span class="punctuation">):</span>
<span class="operator">...</span>     <span class="name">pos</span><span class="punctuation">,</span> <span class="name">carrying</span><span class="punctuation">,</span> <span class="name">home</span> <span class="operator">=</span> <span class="name">state</span>  <span class="comment single"># truck position, goods it carries, goods at home</span>
<span class="operator">...</span>     <span class="comment single"># Move the truck, time is distance * no_of_goods, then load or unload it.</span>
<span class="operator">...</span>     <span class="keyword">for</span> <span class="name">new_pos</span><span class="punctuation">,</span> <span class="name">distance</span> <span class="operator word">in</span> <span class="name">next_vertices_pos</span><span class="punctuation">(</span><span class="name">pos</span><span class="punctuation">,</span> <span class="keyword constant">None</span><span class="punctuation">):</span>
<span class="operator">...</span>         <span class="keyword">if</span> <span class="name">new_pos</span> <span class="operator">==</span> <span class="name">home_position</span><span class="punctuation">:</span>  <span class="comment single"># unloading</span>
<span class="operator">...</span>             <span class="name">new_home</span> <span class="operator">=</span> <span class="name">home</span><span class="operator">.</span><span class="name">union</span><span class="punctuation">(</span><span class="name">carrying</span><span class="punctuation">)</span>
<span class="operator">...</span>             <span class="name">new_carrying</span> <span class="operator">=</span> <span class="name builtin">frozenset</span><span class="punctuation">()</span>
<span class="operator">...</span>         <span class="keyword">else</span><span class="punctuation">:</span>  <span class="comment single"># loading</span>
<span class="operator">...</span>             <span class="name">new_home</span> <span class="operator">=</span> <span class="name">home</span>
<span class="operator">...</span>             <span class="name">new_carrying</span> <span class="operator">=</span> <span class="name">carrying</span><span class="operator">.</span><span class="name">union</span><span class="punctuation">((</span><span class="name">position_to_good</span><span class="punctuation">[</span><span class="name">new_pos</span><span class="punctuation">],))</span>
<span class="operator">...</span>         <span class="keyword">yield</span> <span class="punctuation">(</span><span class="name">new_pos</span><span class="punctuation">,</span> <span class="name">new_carrying</span><span class="punctuation">,</span> <span class="name">new_home</span><span class="punctuation">),</span> <span class="name">distance</span> <span class="operator">*</span> <span class="punctuation">(</span><span class="literal number integer">1</span><span class="operator">+</span><span class="name builtin">len</span><span class="punctuation">(</span><span class="name">carrying</span><span class="punctuation">))</span>
</pre>
<p>Step 6: The truck starts its route at the home position. Our goal is to find the most performant way for the truck to
get all goods and carry them back to the home position. We do not now, whether the truck performs better by repeatedly
returning to the home position with parts of the goods or by collecting all the goods and then returning to the
home position. We use a Dijkstra shortest paths algorithms of NoGraphs for the analysis with cost optimization.</p>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">traversal</span> <span class="operator">=</span> <span class="name">nog</span><span class="operator">.</span><span class="name">TraversalShortestPaths</span><span class="punctuation">(</span><span class="name">next_edges_way</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">traversal</span> <span class="operator">=</span> <span class="name">traversal</span><span class="operator">.</span><span class="name">start_from</span><span class="punctuation">((</span><span class="name">home_position</span><span class="punctuation">,</span> <span class="name builtin">frozenset</span><span class="punctuation">(),</span> <span class="name builtin">frozenset</span><span class="punctuation">()),</span> <span class="name">build_paths</span><span class="operator">=</span><span class="keyword constant">True</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">vertex</span> <span class="operator">=</span> <span class="name">traversal</span><span class="operator">.</span><span class="name">go_to</span><span class="punctuation">((</span><span class="name">home_position</span><span class="punctuation">,</span> <span class="name builtin">frozenset</span><span class="punctuation">(),</span> <span class="name builtin">frozenset</span><span class="punctuation">((</span><span class="literal number integer">0</span><span class="punctuation">,</span> <span class="literal number integer">1</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="punctuation">,</span> <span class="literal number integer">3</span><span class="punctuation">))))</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">traversal</span><span class="operator">.</span><span class="name">distance</span>  <span class="comment single"># The costs of the found best route</span>
<span class="literal number integer">65</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="keyword">for</span> <span class="name">pos</span><span class="punctuation">,</span> <span class="name">carrying</span><span class="punctuation">,</span> <span class="name">home</span> <span class="operator word">in</span> <span class="name">traversal</span><span class="operator">.</span><span class="name">paths</span><span class="punctuation">[</span><span class="name">vertex</span><span class="punctuation">]:</span>
<span class="operator">...</span>     <span class="name builtin">print</span><span class="punctuation">(</span><span class="name">pos</span><span class="punctuation">,</span> <span class="name builtin">tuple</span><span class="punctuation">(</span><span class="name">carrying</span><span class="punctuation">),</span> <span class="name builtin">tuple</span><span class="punctuation">(</span><span class="name">home</span><span class="punctuation">))</span>  <span class="comment single"># Truck positions, goods on the truck, and goods at home position</span>
<span class="punctuation">(</span><span class="literal number integer">4</span><span class="punctuation">,</span> <span class="literal number integer">0</span><span class="punctuation">)</span> <span class="punctuation">()</span> <span class="punctuation">()</span>
<span class="punctuation">(</span><span class="literal number integer">9</span><span class="punctuation">,</span> <span class="literal number integer">4</span><span class="punctuation">)</span> <span class="punctuation">(</span><span class="literal number integer">3</span><span class="punctuation">,)</span> <span class="punctuation">()</span>
<span class="punctuation">(</span><span class="literal number integer">4</span><span class="punctuation">,</span> <span class="literal number integer">0</span><span class="punctuation">)</span> <span class="punctuation">()</span> <span class="punctuation">(</span><span class="literal number integer">3</span><span class="punctuation">,)</span>
<span class="punctuation">(</span><span class="literal number integer">7</span><span class="punctuation">,</span> <span class="literal number integer">9</span><span class="punctuation">)</span> <span class="punctuation">(</span><span class="literal number integer">2</span><span class="punctuation">,)</span> <span class="punctuation">(</span><span class="literal number integer">3</span><span class="punctuation">,)</span>
<span class="punctuation">(</span><span class="literal number integer">2</span><span class="punctuation">,</span> <span class="literal number integer">9</span><span class="punctuation">)</span> <span class="punctuation">(</span><span class="literal number integer">1</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="punctuation">)</span> <span class="punctuation">(</span><span class="literal number integer">3</span><span class="punctuation">,)</span>
<span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span> <span class="literal number integer">4</span><span class="punctuation">)</span> <span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span> <span class="literal number integer">1</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="punctuation">)</span> <span class="punctuation">(</span><span class="literal number integer">3</span><span class="punctuation">,)</span>
<span class="punctuation">(</span><span class="literal number integer">4</span><span class="punctuation">,</span> <span class="literal number integer">0</span><span class="punctuation">)</span> <span class="punctuation">()</span> <span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span> <span class="literal number integer">1</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="punctuation">,</span> <span class="literal number integer">3</span><span class="punctuation">)</span>
</pre>
</div>
</div>
<div class="section" id="traversal-algorithms-1">
<h1><span class="target" id="traversal-algorithms">Traversal algorithms</span></h1>
<p>Based on you next_vertices or next_edges function,
NoGraphs gives you <strong>traversal algorithms in the form
of iterators (in fact: generators)</strong>.
You can use them to <strong>traverse your graph</strong> following some specific traversal
strategy and to compute values like <strong>depths</strong>, <strong>distances</strong>, <strong>paths</strong> and <strong>trees</strong>.</p>
<p>NoGraphs contains the following classes that provide traversal algorithms. See the <a class="reference internal" href="#api-documentation">API documentation</a> for more details.</p>
<ul>
<li><p class="first">Class TraversalBreadthFirst</p>
<blockquote>
<ul class="simple">
<li>Algorithm <em>Breadth First Search</em> (&quot;BFS&quot;), non-recursive, based on FIFO queue.</li>
<li>For directed graphs. No labels are needed, but can be provided.</li>
<li>Visits and reports vertices in <em>breadth first order</em>, i.e., <strong>with ascending
depth</strong> (the <em>depth</em> of a vertex is the edge count of the path with least edges from a start vertex).</li>
</ul>
</blockquote>
</li>
<li><p class="first">Class TraversalDepthsFirst</p>
<blockquote>
<ul class="simple">
<li>Algorithm <em>Depth First Search</em> (&quot;DFS&quot;), non-recursive, based on stack.</li>
<li>For directed graphs. No labels are needed, but can be provided.</li>
<li><strong>Follows edges to new vertices as long as possible</strong>, and goes back a step and follows further
edges that start at some visited vertex only if necessary to come to new vertices.</li>
</ul>
</blockquote>
</li>
<li><p class="first">Class TraversalTopologicalSorted</p>
<blockquote>
<ul class="simple">
<li>Algorithm <em>Topological Sorting</em>, non-recursive, based on stack.</li>
<li>For directed graphs. No labels are needed, but can be provided.</li>
<li>Traverses your graph backwards, i.e. <strong>from successors to predecessors</strong>, if it contains no loop on a
path from a start vertex. If there is a loop, this is detected.</li>
</ul>
</blockquote>
</li>
<li><p class="first">Class TraversalShortestPaths</p>
<blockquote>
<ul class="simple">
<li>Algorithm of <em>Dijkstra</em>, non-recursive, based on heap.</li>
<li>For directed, weighted graphs. All weights non-negative.</li>
<li>Traverses your graph <strong>from short to long distances (minimal sum of edge weights)</strong> from
some start vertices.</li>
</ul>
</blockquote>
</li>
<li><p class="first">Class TraversalAStar</p>
<blockquote>
<ul class="simple">
<li>Algorithm <em>A*</em>, non-recursive, based on heap.</li>
<li>For directed, weighted graphs. All weights non-negative. <strong>Admissible heuristic function
to goal vertex needed</strong>.</li>
<li><strong>Finds the shortest path (minimal sum of edge weights)</strong> from one of the start vertics to the goal
vertex. A so-called <em>tie breaker</em> is implemented, that prioritizes edges that have been found more
recently about edges that have been found earlier. This is a typical choice that often improves
search performance.</li>
</ul>
</blockquote>
</li>
<li><p class="first">Class TraversalMinimumSpanningTree</p>
<blockquote>
<ul class="simple">
<li>Algorithm of <strong>Jarnik, Prim, Dijkstra</strong>, non-recursive, based on heap.</li>
<li>For weighted, undirected graphs. The undirected edges are given as directed
edges with the same weight in both directions.</li>
<li>Traverses your graph s.t. the traversed edges form a minimum spanning tree.</li>
</ul>
</blockquote>
</li>
</ul>
<div class="section" id="methods-of-the-traversal-classes-a-brief-description">
<h2>Methods of the traversal classes, a brief description</h2>
<p>The classes for traversal strategies provide the following method for object initialization:</p>
<ul>
<li><p class="first"><strong>__init__</strong></p>
<p>Initializes a traversal based on a next_edges function or, in case of strategies
that can be applied on unweighted graphs, a next_vertices function. If both types of
callback functions are possible, the library interprets your parameter as being a next_vertices function,
if you do not state else.</p>
<p>Additionally, you can provide a <em>vertex_to_id</em> function, that gives a vertex a hashable id.
With this feature, you can use non-hashable objects as vertices. And it can be used to make the library
treat groups of vertices as one single vertex, i.e., if one of the group
has been visited, all of it are treated as visited.</p>
</li>
</ul>
<p>Traversal objects provide the following methods:</p>
<ul>
<li><p class="first"><strong>start_from(...):</strong></p>
<p>Starts the traversal at a vertex or a set of vertices. You can choose between some
option, e.g., that paths should be created, and - for labeled edges - whether the
labels are to be reported in the paths.</p>
</li>
<li><p class="first"><strong>__iter__():</strong></p>
<p>A started traversal provides <em>iterable</em> support. So, you can use it with the <em>for</em>
and <em>in</em> statements.</p>
<p>__iter__ returns the iterator of a started traversal. Subsequent calls return the same iterator
again. The iterator yields vertices reported by the traversal algorithm. When a vertex is
reported, specific attributes of the traversal contain additional data about the state of
the traversal (see the <a class="reference internal" href="#api-documentation">API documentation</a> of the traversal classes).</p>
</li>
<li><p class="first"><strong>__next__():</strong></p>
<p>A started traversal fulfils the <em>iterator protocol</em>.</p>
<p>The __next__ method provides the next vertex of a (started) traversal.</p>
<p>(Note: The method delegates to the internal iterator of the traversal. In the unlikely
event that you want to call <em>next(traversal)</em> thousands of times manually, it is slightly more
performant to get the internal iterator, e.g. by using <em>it</em> <em>=</em> <em>iter(traversal)</em>, and then call
<em>next(it)</em> repeatedly.)</p>
</li>
<li><p class="first"><strong>go_for_vertices_in(vertices):</strong></p>
<p>For a started traversal, the method returns an iterator that fetches vertices
from the traversal, reports a vertex if it is in <em>vertices</em>, and stops when all of the
<em>vertices</em> have been found and reported. If the traversal ends without having found all of
the <em>vertices</em>, KeyError is raised (or the traversal just terminates, if you decided for
silent fails).</p>
</li>
<li><p class="first"><strong>go_to(vertex):</strong></p>
<p>For a started traversal, it walks through the graph, stops at <em>vertex</em> and returns it.
If the traversal ends without having found <em>vertex</em>, KeyError is raised (or None is
returned, if you decided for silent fails).</p>
</li>
</ul>
<p>Additionally, class TraversalBreadthFirst offers the following method:</p>
<ul>
<li><p class="first"><strong>go_for_depth_range(start, stop)</strong></p>
<p>For a started traversal, it returns an iterator. During the traversal, the iterator skips
vertices as long as their depth is lower than <em>start</em>. From then on, is reports the found
vertices. It stops when the reached depth is higher than <em>stop</em>.</p>
<p>Note: The first vertex with a depth higher than stop will be consumed from the traversal,
but will not be reported, so it is lost (compare itertools.takewhile).</p>
</li>
</ul>
<p>Additionally, class TraversalShortestPaths offers the following method:</p>
<ul>
<li><p class="first"><strong>go_for_distance_range(start, stop)</strong></p>
<p>For a started traversal, it returns an iterator.  During the traversal, the iterator skips
vertices as long as their distance is lower than <em>start</em>. From then on, is reports the found
vertices. It stops when the reached distance is higher than <em>stop</em>.</p>
<p>Note: The first vertex with a distance higher than stop will be consumed from the traversal,
but will not be reported, so it is lost (compare itertools.takewhile).</p>
</li>
</ul>
<p>See the <a class="reference internal" href="#api-documentation">API documentation</a> for more details.</p>
</div>
<div class="section" id="flexibility-and-restrictions">
<h2>Flexibility and restrictions</h2>
<p>The following list summarizes, where NoGraphs is flexible and what the restrictions are:</p>
<ul class="simple">
<li>You are quite free in the choice of what you use as your vertices. Only requirement: Either your <strong>vertex is
hashable</strong> (e.g. Int, Str, Tuple of immutable data, or a hashable object of your own vertex
class), <strong>or you provide a function that returns some hashable identifier</strong> for a vertex. In both cases,
the hash has to stay the same as long as a library algorithm runs.</li>
<li>You can <strong>use anything as edges of your graph</strong>. Only requirement: You <strong>provide a callback
function</strong> of type next_vertices or next_edges for accessing the necessary data about the edges
that start at a given vertex.</li>
<li>You can <strong>use any Numbers.Real as your weight of an edge</strong>. Only requirements: Your <strong>weights
are mutual comparable</strong>, <strong>comparable to float('infinity')</strong> and <strong>can be added up</strong>.</li>
<li><strong>Multiple edges</strong> and <strong>loops</strong> and <strong>self loops</strong> are supported.</li>
<li>The graph <strong>needs to be locally finite</strong>.</li>
<li>Some <strong>attributes of the traversal state are accessible</strong>, outside the calculation and inside a
neighbor function. See <a class="reference internal" href="#api-documentation">API documentation</a>.</li>
<li>You can <strong>replace the build-in functionality for storing and looking up already computed results
for vertices</strong>, that work with a set resp. a dict, by your own functionality, e.g. a lookup in your
own vertex data structure, or a LRU cache, if you know, what part of the information is
really still needed for the following computations, or a data structure with some preloaded data.</li>
</ul>
</div>
<div class="section" id="efficiency-features">
<h2>Efficiency features</h2>
<ul class="simple">
<li><strong>Only the requested amount of (partial) search is done</strong>. The traversal algorithms are <strong>generators</strong>, and the
traversal can be aborted by just not reading further results, e.g. when the reported partial
results already gave you the needed insights.</li>
<li>The library ask you for <strong>neighbor information only when needed by the traversal strategy</strong>, and
only once per vertex during a traversal. This minimizes your computation effort.</li>
<li><strong>Paths are handled fairly runtime and memory efficiently</strong>: Let's regard paths from a
start vertex to some other vertices, that stem from some kind of recursive traversal
where each vertex is only visited once. For each reached vertex, we only need to store its direct
predecessor in the paths tree, and we can reconstruct each of the paths in the tree.
This is what NoGraphs does. Only when you really need and
access a path from the first to the last vertex (reversed direction w.r.t. the predecessor
references), it is individually computed in that direction.</li>
</ul>
</div>
</div>
<div class="section" id="gadgets">
<h1>Gadgets</h1>
<div class="section" id="graphs-stored-in-some-typical-data-structures">
<h2>Graphs stored in some typical data structures</h2>
<p>If you do not want to calculate your graph on the fly, because you have already computed it,
you might have stored it in some dictionary, tuple or list.</p>
<p>In this case, the following support functions might help you with defining a
neighbor function for your graph.</p>
<ul>
<li><p class="first">Function <strong>next_from_edge_dict</strong></p>
<p>This function returns a neighbor function for graphs that are stored in one of the following ways:</p>
<ul class="simple">
<li><strong>Mapping</strong>, e.g. a dictionary, <strong>from start vertex to end vertex</strong></li>
<li><strong>Mapping</strong>, e.g. a dictionary, <strong>from start vertex to tuples of edges</strong>, where an edge is a
tuple of end vertex, weight and additional data</li>
<li><strong>Sequence</strong>, e.g. a tuple or list, <strong>of end vertices</strong>, and the start vertex is your index</li>
<li><strong>Sequence</strong>, e.g. a tuple or list, <strong>of edges</strong> (tuples of end vertex, weight and additional
data), and the start vertex is your index</li>
</ul>
</li>
<li><p class="first">Function <strong>next_from_edges_iterable</strong>:</p>
<p>This function returns a neighbor function for graphs in following forms:</p>
<ul class="simple">
<li><strong>Iterable</strong>, e.g. a tuple or list, <strong>of edges</strong>. Edges are tuples of start vertex, end vertex,
and optionally weight and further data.</li>
</ul>
</li>
</ul>
<p>For more details and many examples, see the <a class="reference internal" href="#api-documentation">API documentation</a>.</p>
</div>
<div class="section" id="neighbor-function-for-graphs-that-are-based-on-n-dimensional-rectangular-grids">
<h2>Neighbor function for graphs that are based on n-dimensional rectangular grids</h2>
<p>If you want to play around a bit with graphs, one easy possibility is to do that with a graph
in the form of some kind of maze (see examples in this document, e.g. <a class="reference internal" href="#breadth-first-search-in-a-maze">Breadth First Search in a maze</a>).</p>
<p>NoGraphs provides helpful gadget functions for graphs of that kind:</p>
<ul>
<li><p class="first">Class <strong>Position</strong></p>
<p>This class provides methods for adding vectors, subtracting vectors, manhattan distance,
test for limits and wrapping at limits. Positions are n-dimensions vectors of integers.</p>
</li>
<li><p class="first">Class <strong>Array</strong></p>
<p>This class provides methods for the handling of n-dimensional mazes that are defined
by a nested Sequence. They offer functionality for the definition of start and goal
vertices and the creation of next_vertices or next_edges vertices
functions based on maze content.</p>
</li>
</ul>
<p>Example:</p>
<p>We repeat example <a class="reference internal" href="#breadth-first-search-in-a-maze">Breadth First Search in a maze</a>, but this time we use Class Array.</p>
<p>First, we create a 2-dimensional array from the maze string. Then, we create next_vertices from the
array and our choice of forbidden maze content, and we use method findall of Array to find the start and end markers
in the maze.</p>
<p>Note: Array works with vertices of type Positions, see above, whereas we have used tuple in the example.
And findall returns all found positions, whereas we have used single vertices in the original example.</p>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">maze</span> <span class="operator">=</span> <span class="name">nog</span><span class="operator">.</span><span class="name">Array</span><span class="punctuation">(</span><span class="literal string single">'''
... S#.#.
... .#...
... .#.#.
... ...#.
... .#.#G'''</span><span class="operator">.</span><span class="name">strip</span><span class="punctuation">()</span><span class="operator">.</span><span class="name">splitlines</span><span class="punctuation">(),</span> <span class="literal number integer">2</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">next_vertices</span> <span class="operator">=</span> <span class="name">maze</span><span class="operator">.</span><span class="name">next_vertices_from_forbidden</span><span class="punctuation">(</span><span class="literal string double">&quot;#&quot;</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">starts</span><span class="punctuation">,</span> <span class="name">goals</span> <span class="operator">=</span> <span class="punctuation">(</span><span class="name">maze</span><span class="operator">.</span><span class="name">findall</span><span class="punctuation">(</span><span class="name">c</span><span class="punctuation">)</span> <span class="keyword">for</span> <span class="name">c</span> <span class="operator word">in</span> <span class="literal string double">&quot;SG&quot;</span><span class="punctuation">)</span>
</pre>
<p>The code for the analysis stays the same, but we use the found positions now:</p>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">traversal</span> <span class="operator">=</span> <span class="name">nog</span><span class="operator">.</span><span class="name">TraversalBreadthFirst</span><span class="punctuation">(</span><span class="name">next_vertices</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">vertex</span> <span class="operator">=</span> <span class="name">traversal</span><span class="operator">.</span><span class="name">start_from</span><span class="punctuation">(</span><span class="name">starts</span><span class="punctuation">[</span><span class="literal number integer">0</span><span class="punctuation">],</span> <span class="name">build_paths</span><span class="operator">=</span><span class="keyword constant">True</span><span class="punctuation">)</span><span class="operator">.</span><span class="name">go_to</span><span class="punctuation">(</span><span class="name">goals</span><span class="punctuation">[</span><span class="literal number integer">0</span><span class="punctuation">])</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">traversal</span><span class="operator">.</span><span class="name">depth</span>
<span class="literal number integer">12</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">traversal</span><span class="operator">.</span><span class="name">paths</span><span class="punctuation">[</span><span class="name">vertex</span><span class="punctuation">]</span>
<span class="punctuation">((</span><span class="literal number integer">0</span><span class="punctuation">,</span> <span class="literal number integer">0</span><span class="punctuation">),</span> <span class="punctuation">(</span><span class="literal number integer">1</span><span class="punctuation">,</span> <span class="literal number integer">0</span><span class="punctuation">),</span> <span class="punctuation">(</span><span class="literal number integer">2</span><span class="punctuation">,</span> <span class="literal number integer">0</span><span class="punctuation">),</span> <span class="punctuation">(</span><span class="literal number integer">3</span><span class="punctuation">,</span> <span class="literal number integer">0</span><span class="punctuation">),</span> <span class="punctuation">(</span><span class="literal number integer">3</span><span class="punctuation">,</span> <span class="literal number integer">1</span><span class="punctuation">),</span> <span class="punctuation">(</span><span class="literal number integer">3</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="punctuation">),</span> <span class="punctuation">(</span><span class="literal number integer">2</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="punctuation">),</span> <span class="punctuation">(</span><span class="literal number integer">1</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="punctuation">),</span> <span class="punctuation">(</span><span class="literal number integer">1</span><span class="punctuation">,</span> <span class="literal number integer">3</span><span class="punctuation">),</span> <span class="punctuation">(</span><span class="literal number integer">1</span><span class="punctuation">,</span> <span class="literal number integer">4</span><span class="punctuation">),</span> <span class="punctuation">(</span><span class="literal number integer">2</span><span class="punctuation">,</span> <span class="literal number integer">4</span><span class="punctuation">),</span> <span class="punctuation">(</span><span class="literal number integer">3</span><span class="punctuation">,</span> <span class="literal number integer">4</span><span class="punctuation">),</span> <span class="punctuation">(</span><span class="literal number integer">4</span><span class="punctuation">,</span> <span class="literal number integer">4</span><span class="punctuation">))</span>
</pre>
<p>For more details and many examples, see the <a class="reference internal" href="#api-documentation">API documentation</a>.</p>
</div>
</div>
<div class="section" id="links-and-notes">
<h1>Links and notes</h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Source:</th><td class="field-body">The source for this project is available <a class="reference external" href="https://github.com/pypa/sampleproject">here</a>.</td>
</tr>
<tr class="field"><th class="field-name">API:</th><td class="field-body">The <span class="target" id="api-documentation">API documentation</span> will soon be available on ReadTheDocs.</td>
</tr>
<tr class="field"><th class="field-name">Author:</th><td class="field-body">Helmut Melcher, Karlsruhe, Germany</td>
</tr>
</tbody>
</table>
<p></p>
</div>
</div>
</body>
</html>
